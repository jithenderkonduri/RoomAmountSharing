<!-- create.component.html -->

<div class="card">
  <div class="card-body">
    <form [formGroup]="reimbursementsForm" novalidate>
      <p class="alert alert-success" *ngIf="showMsg">
        <strong>{{ msg }}</strong>
      </p>
      <div class="form-group">
        <label class="col-md-4">User</label>
        <select formControlName="user_id" #user_id class="form-control">
          <option value="">--Select User--</option>
          <option [value]="usr._id" *ngFor="let usr of users">{{
            usr.name
          }}</option>
        </select>
      </div>
      <div class="form-group">
        <label class="col-md-4">Amount</label>
        <input
          type="number"
          class="form-control"
          name="amount"
          formControlName="amount"
          #amount
        />
      </div>
      <div
        *ngIf="
          reimbursementsForm.controls['amount'].invalid &&
          (reimbursementsForm.controls['amount'].dirty ||
            reimbursementsForm.controls['amount'].touched)
        "
        class="alert alert-danger"
      >
        <div *ngIf="reimbursementsForm.controls['amount'].errors.required">
          Amount is required.
        </div>
      </div>

      <div class="form-group">
        <button
          (click)="addReimbursements()"
          [disabled]="reimbursementsForm.pristine || reimbursementsForm.invalid"
          class="btn btn-primary"
        >
          Create
        </button>
        &nbsp;
        <a class="btn btn-info" routerLink="/expenses">Back</a>
      </div>
    </form>
  </div>
</div>
