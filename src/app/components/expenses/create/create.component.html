<!-- create.component.html -->

<div class="card">
  <div class="card-body">
    <form [formGroup]="expensesForm" novalidate>
      <p class="alert alert-success" *ngIf="showMsg">
        <strong>{{ msg }}</strong>
      </p>
      <div class="form-group">
        <label class="col-md-4">User</label>
        <select formControlName="user_id" #user_id class="form-control">
          <option value="">--Select User--</option>
          <option [value]="usr._id" *ngFor="let usr of users">{{
            usr.name
          }}</option>
        </select>
      </div>
      <div class="form-group">
        <label class="col-md-4">Amount</label>
        <input
          type="number"
          class="form-control"
          name="amount"
          formControlName="amount"
          #amount
        />
      </div>
      <div
        *ngIf="
          expensesForm.controls['amount'].invalid &&
          (expensesForm.controls['amount'].dirty ||
            expensesForm.controls['amount'].touched)
        "
        class="alert alert-danger"
      >
        <div *ngIf="expensesForm.controls['amount'].errors.required">
          Amount is required.
        </div>
      </div>
      <div class="form-group">
        <label class="col-md-4">Date</label>
        <input
          type="date"
          class="form-control"
          name="date"
          formControlName="date"
          #date
        />
      </div>
      <div
        *ngIf="
          expensesForm.controls['date'].invalid &&
          (expensesForm.controls['date'].dirty ||
            expensesForm.controls['date'].touched)
        "
        class="alert alert-danger"
      >
        <div *ngIf="expensesForm.controls['date'].errors.required">
          Date is required.
        </div>
      </div>
      <div class="form-group">
        <button
          (click)="addExpenses()"
          [disabled]="expensesForm.pristine || expensesForm.invalid"
          class="btn btn-primary"
        >
          Create
        </button>
        &nbsp;
        <a class="btn btn-info" routerLink="/expenses">Back</a>
      </div>
    </form>
  </div>
</div>
